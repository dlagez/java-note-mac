### 作用：简化查询

把整个查询包装成一个名为 productcustomers 的虚拟表，则可以如下轻松地检索出需要的数据：

### 应用：

- 重用SQL语句。
- 简化复杂的SQL操作。在编写查询后，可以方便地重用它而不必知道它的基本查询细节。
- 使用表的组成部分而不是整个表。
- 保护数据。可以给用户授予表的特定部分的访问权限而不是整个表的访问权限。
- 更改数据格式和表示。视图可返回与底层表的表示和格式不同的数据。

在视图创建之后，可以用与表基本相同的方式利用它们。可以对视图执行 SELECT 操作，过滤和排序数据，将视图联结到其他视图或表，甚至能添加和更新数据

### 规则和限制

- 与表一样，视图必须唯一命名
- 对于可以创建的视图数目没有限制。
- 为了创建视图，必须具有足够的访问权限。这些限制通常由数据库管理人员授予。
- 视图可以嵌套，即可以利用从其他视图中检索数据的查询来构造一个视图。
- ORDER BY 可以用在视图中，但如果从该视图检索数据 SELECT 中也含有 ORDER BY ，那么该视图中的 ORDER BY 将被覆盖。
- 视图不能索引，也不能有关联的触发器或默认值。
- 视图可以和表一起使用。例如，编写一条联结表和视图的 SELECT语句。

### 使用视图

- 视图用 CREATE VIEW 语句来创建。
- 使用 SHOW CREATE VIEW viewname ；来查看创建视图的语句。
- 用 DROP 删除视图，其语法为 DROP VIEW viewname;。
- 更新视图时，可以先用DROP再用CREATE，也可以直接用CREATE OR REPLACE VIEW。如果要更新的视图不存在，则第 2 条更新语句会创建一个视图；如果要更新的视图存在，则第 2 条更新语句会替换原有视图。

#### 利用视图简化复杂的联结

```mysql
create view customer_view as
select cust_id, cust_name
from customers

```

```bash

mysql> select * from customer_view;
+---------+-----------+
| cust_id | cust_name |
+---------+-----------+
|       1 | roczhang  |
|       2 | roczhang2 |
+---------+-----------+
2 rows in set (0.00 sec)

```



```mysql
mysql> select * from customer_view where cust_id = 1;
+---------+-----------+
| cust_id | cust_name |
+---------+-----------+
|       1 | roczhang  |
+---------+-----------+
1 row in set (0.00 sec)

```

