## B-Tree

数据库系统普遍采用`B-Tree`作为索引结构（例如`mysql`的`InnoDB`引擎使用的`B+`树）

平衡二叉树的查找效率非常高，并可以通过降低树的深度来提高查找效率，但是有两个问题限制了平衡二叉树的实际应用。

### 第一

当数据量非常大，树存储的元素数量是有限的，这样会导致**二叉查找树结构由于书的深度过大而造成磁盘`I/O`读写过于频繁，进而导致查询效率低下**。

### 第二

另外数据量过大会导致空间不够容纳平衡二叉树所有节点的情况。

B树可以很好的解决上述两个问题。

## 概念

B树和二叉树不同，B树是一种自平衡树，它维护有序数据并允许以对数时间进行数据的搜索，顺序访问，插入和删除。

B树是二叉搜索树的一般化，因为B树节点可以有两个以上的子节点，B树非常适合读取和写入相对较大的数据块（如光盘）的存储系统。它通常用于[数据库](https://en.wikipedia.org/wiki/Database)和[文件系统](https://en.wikipedia.org/wiki/File_system)。

## 定义

B树是一种平衡的多分树，通常我们说m阶的B树，它必须满足如下条件： 

- 每个节点最多只有m个子节点。
- 每个非叶子节点（除了根）具有至少⌈ m/2⌉子节点。
- 如果根不是叶节点，则根至少有两个子节点。
- 具有*k*个子节点的非叶节点包含*k* -1个键。
- 所有叶子都出现在同一水平，没有任何信息（高度一致）。

### 什么是B树的阶 ？

B树的阶：B树中的一个节点的子节点数目的最大值，用m表示。



这里加图片



### 什么是根节点 ？

特征：根节点拥有的子节点数量的上限和内部节点相同



### 什么是内部节点 ？

特征：内部节点是除叶子节点和根节点之外的所有节点，拥有父节点和子节点。

理解：就是中间的节点，除了最上层和最下层的中间层。

假定m阶B树的内部节点的子节点数量为M，则一定要符合（m/2）<= M <=m关系式，包含元素数量M-1；包含的元素数量 （m/2）-1<= K <=m-1,K为元素数量。m/2向上取整

### 什么是叶子节点？

特征：特征：在m阶B树中叶子节点的元素符合（m/2）-1<= K <=m-1。

叶子节点对元素的数量有相同的限制，但是没有子节点，也没有指向子节点的指针。



## 插入





ref：https://www.cnblogs.com/lianzhilei/p/11250589.html