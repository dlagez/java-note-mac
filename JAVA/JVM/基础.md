### Java虚拟机（Java Virtual Machine）

java虚拟机是一台执行java字节码的虚拟计算机，它拥有独立的运行机制，其运行的java字节码也未必由java语言编译而成。

### 作用：

java虚拟机就是二进制字节码的运行环境，负责装载字节码到其内部，解释/编译为对应平台上的及其指令执行。

### 特点：

- 一次编译，到处运行。
- 自动内存管理
- 自动垃圾回收功能

### JVM的位置：

<img src="%E5%9F%BA%E7%A1%80.assets/image-20210811150043997.png" alt="image-20210811150043997" style="zoom: 80%;" />

JVM整体结构

![image-20210811150853704](%E5%9F%BA%E7%A1%80.assets/image-20210811150853704.png)

-  HotSpot VM是目前市面上高性能虚拟机代表作之一。
- 它采用揭示其与即时编译器并存的架构。

### java代码执行流程：

![image-20210811151152262](%E5%9F%BA%E7%A1%80.assets/image-20210811151152262.png)

### JVM的架构模型：

由于跨平台的设计，JAVA的指令都是根据栈来设计的。

栈：跨平台性，指令集小，指令多：执行性能比寄存器差。

### JVM的生命周期：

- 虚拟机的启动
  - java虚拟机的启动是通过引导类加载器（bootsrap class loader）创建一个初始类（initial class）来完成的。 
- 虚拟机的执行
  - java虚拟机的进程执行java程序
- 虚拟机的退出
  - 程序正常执行结束
  - 遇到错误或异常。

