安装数据库查看数据库的安装，这里不重复记载。


第三步完成后登陆数据库

```
sudo mysql -u root -p
```

先查看root的host

```
use mysql;
select user,host,plugin from user;
```

```
mysql> select user, host,plugin from user;
+------------------+-----------+-----------------------+
| user             | host      | plugin                |
+------------------+-----------+-----------------------+
| roczhang         | %         | mysql_native_password |
| root             | %         | mysql_native_password |
| debian-sys-maint | localhost | caching_sha2_password |
| mysql.infoschema | localhost | caching_sha2_password |
| mysql.session    | localhost | caching_sha2_password |
| mysql.sys        | localhost | caching_sha2_password |
+------------------+-----------+-----------------------+
6 rows in set (0.00 sec)
```

可以看到root的host为localhost即只有本地能够登陆

第四步 修改root的host为% 即无论在哪台主机上都能够登陆

```
update user set host='%' where user='root' and host='localhost';
```

第五步 修改加密规则

因为mysql 8.0 之前的版本中加密规则是mysql_native_password,而在mysql 8之后,加密规则是caching_sha2_password,所以如果你的客户端低的话就还原成mysql_native_password，如果不是请跳过此步骤。

```
alter user 'root'@'%' identified with mysql_native_password by 'password';
```

第六步 刷新权限

```
flush privileges
```

第七步 修改 /etc/mysql/mysql.conf.d/mysqld.cnf 配置文件：

```
vim /etc/mysql/mysql.conf.d/mysqld.cnf
```

只需注释掉 bind-address = 127.0.0.1,在前面加#

```
#bind-address = 127.0.0.1
```

ok，搞定